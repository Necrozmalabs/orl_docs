---
title: Creating a Quantum Key Distribution
description: In this guide, we’ll walk through how to build a Quantum Key Distribution using open research laboratory.
---

In this guide, we’ll walk through how to simulate a **Continuous Variable (CV) Quantum Key Distribution** 


### What is CV-QKD?

Continuous-variable QKD uses **quantum states of light** (like squeezed or coherent states) sent over a lossy fiber channel to generate secure keys between **Alice** and **Bob**. An **eavesdropper (Eve)** may attempt to intercept, and the system estimates security using **QBER**.


### Core Concepts

#### Laser Power to Alpha

We use this formula to convert dBm power to a quantum amplitude:

$$
\text{Power (watts)} = 10^{\frac{\text{dBm} - 30}{10}}, \quad \alpha = \sqrt{\text{Power} \times 10^6}
$$

#### Channel Loss (Transmissivity)

Loss due to fiber attenuation:

$$
\eta = 10^{\frac{-\alpha_{\text{db/km}} \cdot \text{Length}_{\text{km}}}{10}}
$$

---

### Configuration

Here’s a working configuration for basic QKD with eavesdropping enabled:

```json
{
  "laser_power_dbm": -20,
  "laser_phase": 0.0,
  "squeeze_r": 0.0,
  "phase_shift_phi": 0.0,
  "fiber_length_km": 10,
  "alpha_db_per_km": 0.2,
  "bs_phi": 0.0,
  "eavesdrop": true,
  "eve_bs_ratio": 0.5,
  "detector": "homodyne",
  "homodyne_angle": 0.0,
  "fock_cutoff": 5,
  "shots": 100,
  "enable_reconciliation": true,
  "enable_privacy_amplification": true
}
````

---

#### Parameter Breakdown

| Parameter                      | Description                                                |
| ------------------------------ | ---------------------------------------------------------- |
| `laser_power_dbm`              | Weak coherent state power. e.g., `-20 dBm` = 10 μW         |
| `laser_phase`                  | Phase shift to encode `0` or `1`                           |
| `squeeze_r`                    | Amplitude of squeezing. Set `> 0` for squeezed state QKD   |
| `phase_shift_phi`              | Optional phase shift after squeezing                       |
| `fiber_length_km`              | Channel length (optical fiber)                             |
| `alpha_db_per_km`              | Fiber attenuation (typically 0.2 dB/km)                    |
| `bs_phi`                       | Phase shift at the beam splitter                           |
| `eavesdrop`                    | Enable Eve to tap signal                                   |
| `eve_bs_ratio`                 | Eve's beam splitter ratio (0.5 = 50% interception)         |
| `detector`                     | `"homodyne"`, `"heterodyne"`, or `"fock"`                  |
| `homodyne_angle`               | Quadrature angle to measure (e.g., `0` = `x`, `π/2` = `p`) |
| `shots`                        | Number of simulated bits                                   |
| `enable_reconciliation`        | Enables conversion of Bob’s values into classical bits     |
| `enable_privacy_amplification` | Applies post-processing to enhance secrecy                 |

---

### Steps to create QKD

Go to Open Research Laboratory 

Create a new workflow with the given components 

![image](https://private-user-images.githubusercontent.com/85983956/465171585-67c65713-7813-40a1-95dc-313466c9ec92.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTIyMjI4ODcsIm5iZiI6MTc1MjIyMjU4NywicGF0aCI6Ii84NTk4Mzk1Ni80NjUxNzE1ODUtNjdjNjU3MTMtNzgxMy00MGExLTk1ZGMtMzEzNDY2YzllYzkyLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MTElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzExVDA4Mjk0N1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTRmMGI5OTFkNzM0ZTc4MDZhMTQ2YjgzYWQ4Mjg1MWVjYzhjMGQ3OGM1ZGM4ZWRiYTczNDk5YzdhNWEyYmQ1MDcmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.cBCRT_jR6rBec6Goev-RRBFxCIHdSW6HvyzksiBpX88)

Enter the value as given in the [Configuration](#configuration)

On the QKD control unit click run.


### Output Breakdown

* `alice_bits`: The random key generated by Alice
* `bob_bits`: The decoded key at Bob’s side
* `qber`: Quantum Bit Error Rate

$$
\text{QBER} = \frac{\text{Number of mismatches}}{\text{Total bits}}
$$

* `image`: Histogram of Bob's measurement values
* `eve_measurements`: (if enabled) Eve’s intercepted quadrature values

---

### Our Output

**qber:** 0.56

![QKD Histogram](https://private-user-images.githubusercontent.com/85983956/465173612-2d43c4a5-a657-4791-8ed0-2a9dd341bc69.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTIyMjI3ODIsIm5iZiI6MTc1MjIyMjQ4MiwicGF0aCI6Ii84NTk4Mzk1Ni80NjUxNzM2MTItMmQ0M2M0YTUtYTY1Ny00NzkxLThlZDAtMmE5ZGQzNDFiYzY5LnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MTElMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzExVDA4MjgwMlomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWEzMTU2NmViMTZiOTRlM2M1ZWU2OTc4YzJhMjA1YWYzMjdmZGI1MTM2NmQ2YTI2MmMyN2Y1YjdlMmE1Njc4MjUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.tgUXWQY2im9fTl7i0nprG_3_0vNyKqWEdXwqTAgy9n4)

This histogram shows two main peaks — one for logical `0`, one for `1`. Bob applies a sign threshold to decide each bit.

---

### Security Tips

* Use `-20 dBm` or lower for real-world laser simulation
* Add squeezing (`squeeze_r > 0`) to test squeezed-state protocols
* Expect QBER < 11% for secure key generation
* Turn on both `reconciliation` and `privacy_amplification` for final key

---

Made with ❤️ by **Open Research Laboratory**
